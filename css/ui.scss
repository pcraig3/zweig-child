/* Mixins */
@mixin zw-lowercase($font-size: 1em) {

	font-variant: normal;
	text-transform: lowercase;
	font-size: $font-size;
}

/* horizontal padding */
$default-padding-horizontal: $inuit-base-spacing-unit * 2;

@mixin zw-site-container() {

	width: 100%;
	padding: $inuit-base-spacing-unit $default-padding-horizontal 0 $default-padding-horizontal;
	margin: auto;
	border: 0;
	max-width: none;
}

@mixin zw-transition($property, $timespan: .15s, $easing: ease-in) {

	transition: $property $timespan $easing;
}

@mixin zw-button($base-spacing, $font-size-proportion: 1) {

	font-size: $base-spacing * $font-size-proportion;
	position: relative;
	height: $base-spacing;
	width: $base-spacing;
	display: inline-block;
	background: $color__red;
	color: $color__white;
	border: 0;

	text-align: center;
	line-height: $base-spacing;
}

/* Colours */
$color__white: #FFFFFF;

$color__grey--light: #f9f9f9;
$color__gray--light: $color__grey--light;

$color__grey--still-pretty-light: #f3f3f3;
$color__gray--still-pretty-light: $color__grey--still-pretty-light;

$color__grey: #CBCBCB;
$color__gray: $color__grey;

$color__grey--dark: #333;
$color__gray--dark: $color__grey--dark;

$color__red: #d43b1d;
$color__yellow: #fcd700;

$color__placeholder: #B4B4B4;

/* Custom text-selection colors (remove any text shadows: http://twitter.com/miketaylr/status/12228805301) */
::-moz-selection{background: $color__yellow; color: $color__white; text-shadow: none;}
::selection {background: $color__yellow; color: $color__white; text-shadow: none;} 

/* Overwrite top-level spacing */
html {

	font-size: $inuit-base-font-size;
	line-height: $inuit-base-line-height;
}

.wrapper .post-title {

	padding-bottom: $inuit-base-spacing-unit * .4;
	font-size: $inuit-base-font-size * 2.5;
	line-height: $inuit-base-line-height * 1.5;
}

.wrapper .post-date,
.wrapper .post-meta p,
.wrapper .wp-caption-text,
.wrapper .gallery-caption {

	font-size: $inuit-base-font-size * .85;
	margin-bottom: $inuit-base-spacing-unit * 2;
	color: $color__grey--dark !important;
}


/* Overwrite all the fonts */
body {

	@include Aller-Light;
	color: $color__grey--dark;

	em {
		@include Aller-Light-Italic;
	}
	strong {
		@include Aller-Bold;
	}
	q {
		@include Aller-Light-Italic;
	}
}
h1, h2, h3, h4, h5, h6 {
	@include Baskerville-Regular;
}
.wrapper .post-meta p,
.wrapper .post-meta p strong {
	@include Baskerville-Italic;
}
.wrapper .post-date,
.wrapper .wp-caption-text,
.wrapper .gallery-caption {
	@include Aller-Light;
}
.wrapper .post-title { 
	@include Baskerville-Regular;
}
.wrapper h1, .wrapper h2, .wrapper h3, .wrapper h4, .wrapper h5, .wrapper h6 {
	@include Aller-Light;
	text-transform: uppercase;
}
.single-zw_ch_project {
	.wrapper .entry {

		h1, h2, h3 {

		
		@include Baskerville-Italic;
		@include zw-lowercase( $inuit-base-font-size * 1.75 );
	}

	}
}

.wrapper blockquote {
	@include Aller-Light-Italic;
}
.wrapper cite {
	@include Aller-Light;
	margin-left: $inuit-base-spacing-unit;
}
.wrapper table thead th {
	@include Aller-Light-Italic;
	text-align: left;
}
.wrapper table th {
	@include Aller-Light;
}
.wrapper dt {
	@include Aller-Light-Italic;
}
input[type=submit] {  	
	@include Aller-Light;
	@include zw-lowercase( $inuit-base-font-size * 1.2 );
}
.read-more {
	@include Aller-Light;
}
#commentform label {
	@include Aller-Light-Italic;
}
input[type=text],
input[type=email],
input[type=url],
input[type=search],
input[type=password] {
	@include Aller-Light;
}
textarea {
	@include Aller-Light;
}
#site-header h1 {
	@include Baskerville-Regular;
}
#site-header h2 {
	@include Baskerville-Regular;
}
.post-pages {
	@include Aller-Bold;
}
.post-navigation {
	@include Baskerville-Italic;
}
.author-name strong {
	@include Baskerville-Italic;
	@include zw-lowercase(  $inuit-base-font-size * 1.5 );
}
#comments h3 {
	@include Aller-Light-Italic;
	text-transform: uppercase;
}
#comments .vcard {
	@include Baskerville-Italic;
	@include zw-lowercase( $inuit-base-font-size * 1.1 );

	b {
		font-weight: 400;
	}
} 
#comments .comment-meta {
	@include Aller-Regular;
	color: $color__grey;
}
#comments .reply {
	@include Aller-Light;
	text-align: right;
}
.posts-nav {
	@include Aller-Light;
}
.widget-area h2 {
	@include Baskerville-Italic;
}
/* Post Formats */
article.format-quote {
	@include Aller-Light-Italic;
}

/** Actually starting original styling */
/* Utility Classes */

.full-height {

	/* Might not work perfectly on mobile.  If not, try https://github.com/rodneyrehm/viewport-units-buggyfill */
	min-height: 100vh;
	height: auto !important;
}

.full-width {

	width: 100% !important;
}

.hidden {

	visibility: hidden !important;
}

.not-displayed {

	display: none !important;
}

.relative {

	position: relative !important;
}

.fade-to-solid {

	@include zw-transition(opacity);

	opacity: .65;

	&:hover {

		opacity: 1;
	}
}

.solid-to-fade {

	@include zw-transition(opacity);

	opacity: 1;

	&:hover {

		opacity: .65;
	}
}

.cursor-default {

	cursor: default !important;
}

.subtle-link {

	color: 		$color__grey--dark;

	&:hover {

		color: 		$color__grey--dark;
	}
} 

.whisper {

		font-size: .95em;
		opacity: .33;
}

.fancy-pants {

	@include Baskerville-Regular;
	font-size: $inuit-base-font-size * 1.05;

	em {
		@include Baskerville-Italic;
	}

	strong, b {
		@include Baskerville-Bold;
	}

}

.fancy-button {

	color: $color__white;
	background: $color__red;
	padding: $inuit-base-spacing-unit / 4;
	font-size: $inuit-base-font-size * 1.25;
	cursor: pointer;

	&.fancy-button--offsite {

		&:after {

			padding-left: $inuit-base-spacing-unit / 3;
			font-family: FontAwesome;
			content: "\f101";
		}
	}

	&.fancy-button--download {

		@extend .fancy-button--offsite;

		&:after {

			content: "\f019";
		}
	}

	&.fancy-button--github {

		@extend .fancy-button--offsite;

		&:after { 

			content: "\f092";
		}
	}

}

.wrapper {

	@include zw-site-container;
	padding-top: 0;

	.post-meta p,
	.post-meta p strong {
		text-transform: lowercase;
		font-variant: normal;
		font-size: $inuit-base-font-size;
	}
}

/* Elements */
html.js { 

	#site-header .fp-section  {

		visibility: hidden;
	}
}

#site-header {

	@include zw-site-container;

	background: $color__grey--light;

	/* We're putting it in a column, not directly giving it a width */
	.site-meta {
		width: auto;
		position: fixed;
		z-index: 99;
	}

	h1, h2 {

		display: inline;
	}

	h1 {

		font-size: $inuit-base-font-size * 3.5;
	}

	h2 {
		@include Baskerville-Regular;
		@include zw-lowercase( $inuit-base-font-size * 3 );

		margin-left: 213px;  /* this value will be overwritten */
	}
}


.fp-section__header {

	@extend #site-header;

	padding: $inuit-base-spacing-unit 0 0 0;
	background: transparent;

	.fp-section__header__spacer {
		@include Baskerville-Regular;
		@include zw-lowercase( $inuit-base-font-size * 3.5 );
		display: inline-block;
		margin-top: -2px; /* This sucks, but it works :) */
		visibility: hidden;
		width: 0px; /* can't believe it took me so long to think of this. */
	}
}

.frame__title  {

	padding: ($inuit-base-spacing-unit * .25 ) 0;

	.subhead {

		@include Baskerville-Italic;
		color: $color__grey;
		text-transform: none;
		font-variant: normal;
		font-size: $inuit-base-font-size * 2;
		margin-top: $inuit-base-spacing-unit * .25; 
	}

	.subhead__search_results, .subhead__search_again {

		display: none;
	}
}

.frame {

	padding: ( $inuit-base-spacing-unit * .25 ) $inuit-base-spacing-unit;

	div[id^="attachment"].wp-caption {

			.wp-caption-text {

				@include Aller-Light-Italic;

				position: relative;
				text-transform: none;
				font-variant: normal;
			}
		}

		div[id^="attachment"].wp-caption--shortcode {

			.wp-caption-text--shortcode {

				margin-bottom: $inuit-base-spacing-unit;
				margin-top: $inuit-base-spacing-unit * 2;
			}
		}

	&.frame--single {

		background: $color__grey--light;
	}

	&.frame--splash {

		padding-left: 0;
	}

	&.frame--archive {

		background: $color__white;

		article {

			&:hover {

				.post-date {

					color: $color__grey--still-pretty-light !important;
				}
			}

			.post-title {

				padding-bottom: $inuit-base-spacing-unit * .25;
				font-size: $inuit-base-font-size * 1.8;
				line-height: $inuit-base-line-height * 1.25;
			}

			.post-date {

				@include zw-transition(color);

				color: $color__grey !important;
				margin-bottom: $inuit-base-spacing-unit * 2;
			}

			a {

				display: block;
			}
		}
	}

	/** @TODO: Fix this **/
	.sticky {

		border: none;
		padding-bottom: 0;
		margin-bottom: 0;
	}
}

.form-submit {

	text-align: right;
}

input[type=text],
input[type=email],
input[type=url],
input[type=search],
input[type=password] {

	background: transparent;
}

input[type="text"]:active, 
input[type="text"]:focus, 
input[type="email"]:active, 
input[type="email"]:focus, 
input[type="url"]:active, 
input[type="url"]:focus, 
input[type="search"]:active, 
input[type="search"]:focus, 
input[type="password"]:active, 
input[type="password"]:focus {

	border: none !important;
	border-bottom: 1px solid $color__red !important;
}

textarea {

	border: 1px solid $color__grey--light;
	background: $color__white;
}


/* Header */
.intimate-details {

}

/* Single */
//.sticky {


/* Post metas */


/* Post navigation */
.post-navigation {

	font-size: $inuit-base-font-size * 1.25;
	word-break: break-word;
} 

/* Author Box */

/* Comments */
$padding-base: $inuit-base-spacing-unit / 4;

#comments  {

	.comment-body, .comment {

		margin-bottom: $inuit-base-spacing-unit * 2;
	}  

	.vcard .avatar {
		margin: $padding-base ($padding-base *2) $padding-base $padding-base;
	}

	.comment-awaiting-moderation {

		padding-left: $inuit-base-spacing-unit * 2.33;
	}


	#commentform label {
		padding-bottom: $padding-base;
	}

	input[type=submit] {

		@include zw-transition(background-color, .1s);

		padding:	($padding-base / 1.5) ($padding-base / .75) $padding-base ($padding-base / .75); 
	}
}

/* Footer */
#footer {

	@include zw-site-container;
	border-bottom: $inuit-base-spacing-unit solid #F3F3F3;
}

.widget-area {

	width: auto;
	float: none;
}

.menu-footer-menu-container {

	ul[class*="menu"] {

		margin: 0;
		padding: $inuit-base-spacing-unit $default-padding-horizontal;
	}

	li {
		
		display: inline-block;
		padding-right: $default-padding-horizontal;
	}
}


/* Post / Page Formats */
//hide the header and the back_to_top button on 404s
.error404  {

	#site-header .site-meta {

		position: absolute;
	}

	.back-to-top {

		display: none;
	}
}

/* Back to top button */
.back-to-top {

	$back_to_top_size: $default-padding-horizontal;

	position: absolute;
	top: 190vh; 
	bottom: auto;
	right: 0;
	margin-right: $back_to_top_size;
	z-index: 101;

	&.stuck {

		position: fixed;
		top: auto;
		bottom: $inuit-base-spacing-unit;
	}

	.back-to-top__link {

		@include zw-button( $back_to_top_size );
	}
}

/* Search bars */
.search-form {
	
	.search-field, .placeholder {

		@include Baskerville-Regular;
		@include zw-lowercase( $inuit-base-font-size * 3 );
	}

	.screen-reader-text {

		display: none;
	}
}

//search bar in the title on the search page
.fp-section__header .search-form {

	display: inline;

	.search-field {

		/* sort of arbitrary */
		width: 200px;
		min-width: 200px;
		position: relative;
	}

	.search-submit {

		@include zw-button( $default-padding-horizontal, .5 );

		position: absolute;
		right: 0;
		margin: $inuit-base-spacing-unit * .8;
		margin-right: 0;
	}		
}

//search bar in the footer
#footer .search-form {

	display: block;
	background: none repeat scroll 0% 0% #F9F9F9;
	padding-left: $default-padding-horizontal;
	padding-right: $default-padding-horizontal * 2; /* don't overlap the button */

	.search-field {

		@include zw-lowercase( $inuit-base-font-size * 2 );

		line-height: $inuit-base-line-height * 2;

		width: 100%;
		border-bottom: 1px solid #F9F9F9;
		padding: 0;

		&:active, &:focus {

			border-bottom: #B4B4B4 1px solid !important;
		}
	}

	/* let's just hide it */
	.search-submit {

		display: none;
	}
}

.fancy-pants .search-form {

	display: inline;

	.search-field {

		@extend .fancy-pants;
		width: 50%;

		border-bottom: transparent 1px solid !important;

		&:active, &:focus {

			border-bottom: $color__white 1px solid !important;
		}
	}

	/* let's just hide it */
	.search-submit {

		display: none;
	}
}


/* Media Queries */
